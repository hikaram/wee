jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d)},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b},easeInOutQuad:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t+b:-c/2*(--t*(t-2)-1)+b},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b},easeInOutCubic:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t+b:c/2*((t-=2)*t*t+2)+b},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b},easeInOutQuart:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t*t+b:-c/2*((t-=2)*t*t*t-2)+b},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b},easeInOutQuint:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t*t*t+b:c/2*((t-=2)*t*t*t*t+2)+b},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b},easeInExpo:function(x,t,b,c,d){return t==0?b:c*Math.pow(2,10*(t/d-1))+b},easeOutExpo:function(x,t,b,c,d){return t==d?b+c:c*(-Math.pow(2,-10*t/d)+1)+b},easeInOutExpo:function(x,t,b,c,d){return t==0?b:t==d?b+c:(t/=d/2)<1?c/2*Math.pow(2,10*(t-1))+b:c/2*(-Math.pow(2,-10*--t)+2)+b},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b},easeInOutCirc:function(x,t,b,c,d){return(t/=d/2)<1?-c/2*(Math.sqrt(1-t*t)-1)+b:c/2*(Math.sqrt(1-(t-=2)*t)+1)+b},easeInElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(p||(p=d*.3),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*2*Math.PI/p))+b},easeOutElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(p||(p=d*.3),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*2*Math.PI/p)+c+b},easeInOutElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(p||(p=d*.3*1.5),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return t<1?-.5*a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*2*Math.PI/p)+b:a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*2*Math.PI/p)*.5+c+b},easeInBack:function(x,t,b,c,d,s){return s==undefined&&(s=1.70158),c*(t/=d)*t*((s+1)*t-s)+b},easeOutBack:function(x,t,b,c,d,s){return s==undefined&&(s=1.70158),c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},easeInOutBack:function(x,t,b,c,d,s){return(s==undefined&&(s=1.70158),(t/=d/2)<1)?c/2*t*t*(((s*=1.525)+1)*t-s)+b:c/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+b},easeInBounce:function(x,t,b,c,d){return c-jQuery.easing.easeOutBounce(x,d-t,0,c,d)+b},easeOutBounce:function(x,t,b,c,d){return(t/=d)<1/2.75?c*7.5625*t*t+b:t<2/2.75?c*(7.5625*(t-=1.5/2.75)*t+.75)+b:t<2.5/2.75?c*(7.5625*(t-=2.25/2.75)*t+.9375)+b:c*(7.5625*(t-=2.625/2.75)*t+.984375)+b},easeInOutBounce:function(x,t,b,c,d){return t<d/2?jQuery.easing.easeInBounce(x,t*2,0,c,d)*.5+b:jQuery.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b}});!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q;m*=q;l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r;m*=r;l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left;p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120==0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this));a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height");a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});!function(e){"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var o="function"==typeof define&&define.amd,a="undefined"!=typeof module&&module.exports,n="https:"==document.location.protocol?"https:":"http:";o||(a?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+n+"//"+"cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js"+"%3E%3C/script%3E")));t()}(function(){var t,o="mCustomScrollbar",a="mCS",n=".mCustomScrollbar",i={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0,autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,l={},s=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(t){var t=e.extend(!0,{},i,t),o=f.call(this);if(t.live){var s=t.liveSelector||this.selector||n,c=e(s);if("off"===t.live)return void m(s);l[s]=setTimeout(function(){c.mCustomScrollbar(t);"once"===t.live&&c.length&&m(s)},500)}else m(s);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":p(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),h(t),e(o).each(function(){var o=e(this);if(!o.data(a)){o.data(a,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:o.css("direction"),cbOffsets:null,trigger:null});var n=o.data(a),i=n.opt,l=o.data("mcs-axis"),s=o.data("mcs-scrollbar-position"),c=o.data("mcs-theme");l&&(i.axis=l);s&&(i.scrollbarPosition=s);c&&(i.theme=c,h(i));v.call(this);e("#mCSB_"+n.idx+"_container img:not(."+d[2]+")").addClass(d[2]);u.update.call(null,o)}})},update:function(t,o){var n=t||f.call(this);return e(n).each(function(){var t=e(this);if(t.data(a)){var n=t.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container"),l=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(!r.length)return;n.tweenRunning&&V(t);t.hasClass(d[3])&&t.removeClass(d[3]);t.hasClass(d[4])&&t.removeClass(d[4]);S.call(this);_.call(this);"y"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css("width",x(r.children()));n.overflowed=B.call(this);O.call(this);i.autoDraggerLength&&b.call(this);C.call(this);k.call(this);var s=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==i.axis&&(n.overflowed[0]?l[0].height()>l[0].parent().height()?T.call(this):(Q(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"}),n.contentReset.y=null):(T.call(this),"y"===i.axis?M.call(this):"yx"===i.axis&&n.overflowed[1]&&Q(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"})));"y"!==i.axis&&(n.overflowed[1]?l[1].width()>l[1].parent().width()?T.call(this):(Q(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"}),n.contentReset.x=null):(T.call(this),"x"===i.axis?M.call(this):"yx"===i.axis&&n.overflowed[0]&&Q(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"})));o&&n&&(2===o&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===o&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this));X.call(this)}})},scrollTo:function(t,o){if("undefined"!=typeof t&&null!=t){var n=f.call(this);return e(n).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,o),c=Y.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=j.call(this,c[0],"y");c[1]=j.call(this,c[1],"x");s.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x);s.dur=d;setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==r.axis&&i.overflowed[0]&&(s.dir="y",s.overwrite="all",Q(n,c[0].toString(),s));null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==r.axis&&i.overflowed[1]&&(s.dir="x",s.overwrite="none",Q(n,c[1].toString(),s))},s.timeout)}})}},stop:function(){var t=f.call(this);return e(t).each(function(){var t=e(this);t.data(a)&&V(t)})},disable:function(t){var o=f.call(this);return e(o).each(function(){var o=e(this);o.data(a)&&(o.data(a),X.call(this,"remove"),M.call(this),t&&T.call(this),O.call(this,!0),o.addClass(d[3]))})},destroy:function(){var t=f.call(this);return e(t).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx),s=e("#mCSB_"+i.idx+"_container"),c=e(".mCSB_"+i.idx+"_scrollbar");r.live&&m(r.liveSelector||e(t).selector);X.call(this,"remove");M.call(this);T.call(this);n.removeData(a);Z(this,"mcs");c.remove();s.find("img."+d[2]).removeClass(d[2]);l.replaceWith(s.contents());n.removeClass(o+" _"+a+"_"+i.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},f=function(){return"object"!=typeof e(this)||e(this).length<1?n:this},h=function(t){t.autoDraggerLength=e.inArray(t.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"])>-1?!1:t.autoDraggerLength;t.autoExpandScrollbar=e.inArray(t.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"])>-1?!1:t.autoExpandScrollbar;t.scrollButtons.enable=e.inArray(t.theme,["minimal","minimal-dark"])>-1?!1:t.scrollButtons.enable;t.autoHideScrollbar=e.inArray(t.theme,["minimal","minimal-dark"])>-1?!0:t.autoHideScrollbar;t.scrollbarPosition=e.inArray(t.theme,["minimal","minimal-dark"])>-1?"outside":t.scrollbarPosition},m=function(e){l[e]&&(clearTimeout(l[e]),Z(l,e))},p=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),n=t.data(a),i=n.opt,r=i.autoExpandScrollbar?" "+d[1]+"_expand":"",l=["<div id='mCSB_"+n.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /><\/div><div class='mCSB_draggerRail' /><\/div><\/div>","<div id='mCSB_"+n.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /><\/div><div class='mCSB_draggerRail' /><\/div><\/div>"],s="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===i.axis?l[0]+l[1]:"x"===i.axis?l[1]:l[0],u="yx"===i.axis?"<div id='mCSB_"+n.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",f=i.autoHideScrollbar?" "+d[6]:"",h="x"!==i.axis&&"rtl"===n.langDir?" "+d[7]:"";i.setWidth&&t.css("width",i.setWidth);i.setHeight&&t.css("height",i.setHeight);i.setLeft="y"!==i.axis&&"rtl"===n.langDir?"989999px":i.setLeft;t.addClass(o+" _"+a+"_"+n.idx+f+h).wrapInner("<div id='mCSB_"+n.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+s+"'><div id='mCSB_"+n.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir="+n.langDir+" /><\/div>");var m=e("#mCSB_"+n.idx),p=e("#mCSB_"+n.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||p.css("width",x(p.children()));"outside"===i.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),m.addClass("mCSB_outside").after(c)):(m.addClass("mCSB_inside").append(c),p.wrap(u));w.call(this);var g=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height());g[1].css("min-width",g[1].width())},x=function(t){return Math.max.apply(Math,t.map(function(){return e(this).outerWidth(!0)}).get())},_=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx+"_container");n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis&&i.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),position:"relative"}).unwrap()},w=function(){var t=e(this),o=t.data(a),n=o.opt,i=e(".mCSB_"+o.idx+"_scrollbar:first"),r=te(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",l=["<a href='#' class='"+d[13]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[14]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[15]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[16]+"' oncontextmenu='return false;' "+r+" />"],s=["x"===n.axis?l[2]:l[0],"x"===n.axis?l[3]:l[1],l[2],l[3]];n.scrollButtons.enable&&i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},S=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=t.css("max-height")||"none",r=-1!==i.indexOf("%"),l=t.css("box-sizing");if("none"!==i){var s=r?t.parent().height()*parseInt(i)/100:parseInt(i);"border-box"===l&&(s-=t.innerHeight()-t.height()+(t.outerHeight()-t.innerHeight()));n.css("max-height",Math.round(s))}},b=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[n.height()/i.outerHeight(!1),n.width()/i.outerWidth(!1)],c=[parseInt(r[0].css("min-height")),Math.round(l[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(l[1]*r[1].parent().width())],d=s&&c[1]<c[0]?c[0]:c[1],u=s&&c[3]<c[2]?c[2]:c[3];r[0].css({height:d,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"});r[1].css({width:u,"max-width":r[1].parent().width()-10})},C=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[i.outerHeight(!1)-n.height(),i.outerWidth(!1)-n.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];o.scrollRatio={y:s[0],x:s[1]}},y=function(e,t,o){var a=o?d[0]+"_expanded":"",n=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(d[0]+" "+a),n.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(d[0]),n.removeClass(d[1])):(e.addClass(d[0]),n.addClass(d[1])))},B=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=null==o.overflowed?i.height():i.outerHeight(!1),l=null==o.overflowed?i.width():i.outerWidth(!1);return[r>n.height(),l>n.width()]},T=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx),r=e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(V(t),("x"!==n.axis&&!o.overflowed[0]||"y"===n.axis&&o.overflowed[0])&&(l[0].add(r).css("top",0),Q(t,"_resetY")),"y"!==n.axis&&!o.overflowed[1]||"x"===n.axis&&o.overflowed[1]){var s=dx=0;"rtl"===o.langDir&&(s=i.width()-r.outerWidth(!1),dx=Math.abs(s/o.scrollRatio.x));r.css("left",s);l[1].css("left",dx);Q(t,"_resetX")}},k=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),W.call(o[0])):t()},100)}var o=e(this),n=o.data(a),i=n.opt;if(!n.bindEvents){if(R.call(this),i.contentTouchScroll&&D.call(this),E.call(this),i.mouseWheel.enable){var r;t()}P.call(this);H.call(this);i.advanced.autoScrollOnFocus&&z.call(this);i.scrollButtons.enable&&U.call(this);i.keyboard.enable&&F.call(this);n.bindEvents=!0}},M=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=".mCSB_"+o.idx+"_scrollbar",l=e("#mCSB_"+o.idx+",#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,"+r+" ."+d[12]+",#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal,"+r+">a"),s=e("#mCSB_"+o.idx+"_container");n.advanced.releaseDraggableSelectors&&l.add(e(n.advanced.releaseDraggableSelectors));o.bindEvents&&(e(document).unbind("."+i),l.each(function(){e(this).unbind("."+i)}),clearTimeout(t[0]._focusTimeout),Z(t[0],"_focusTimeout"),clearTimeout(o.sequential.step),Z(o.sequential,"step"),clearTimeout(s[0].onCompleteTimeout),Z(s[0],"onCompleteTimeout"),o.bindEvents=!1)},O=function(t){var o=e(this),n=o.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container_wrapper"),l=r.length?r:e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_scrollbar_vertical"),e("#mCSB_"+n.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==i.axis&&(n.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),l.removeClass(d[8]+" "+d[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css("display","none"),l.removeClass(d[10])):(s[0].css("display","none"),l.addClass(d[10])),l.addClass(d[8])));"y"!==i.axis&&(n.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),l.removeClass(d[9]+" "+d[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css("display","none"),l.removeClass(d[11])):(s[1].css("display","none"),l.addClass(d[11])),l.addClass(d[9])));n.overflowed[0]||n.overflowed[1]?o.removeClass(d[5]):o.addClass(d[5])},I=function(e){var t=e.type;switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return e.target.ownerDocument!==document?[e.originalEvent.screenY,e.originalEvent.screenX,!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var o=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],a=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[o.screenY,o.screenX,a>1]:[o.pageY,o.pageX,a>1];default:return[e.pageY,e.pageX,!1]}},R=function(){function t(e){var t=m.find("iframe");if(t.length){var o=e?"auto":"none";t.css("pointer-events",o)}}function o(e,t,o,a){if(m[0].idleTimer=u.scrollInertia<233?250:0,n.attr("id")===h[1])var i="x",r=(n[0].offsetLeft-t+a)*d.scrollRatio.x;else var i="y",r=(n[0].offsetTop-e+o)*d.scrollRatio.y;Q(l,r.toString(),{dir:i,drag:!0})}var n,i,r,l=e(this),d=l.data(a),u=d.opt,f=a+"_"+d.idx,h=["mCSB_"+d.idx+"_dragger_vertical","mCSB_"+d.idx+"_dragger_horizontal"],m=e("#mCSB_"+d.idx+"_container"),p=e("#"+h[0]+",#"+h[1]),g=u.advanced.releaseDraggableSelectors?p.add(e(u.advanced.releaseDraggableSelectors)):p;p.bind("mousedown."+f+" touchstart."+f+" pointerdown."+f+" MSPointerDown."+f,function(o){if(o.stopImmediatePropagation(),o.preventDefault(),$(o)){c=!0;s&&(document.onselectstart=function(){return!1});t(!1);V(l);n=e(this);var a=n.offset(),d=I(o)[0]-a.top,f=I(o)[1]-a.left,h=n.height()+a.top,m=n.width()+a.left;h>d&&d>0&&m>f&&f>0&&(i=d,r=f);y(n,"active",u.autoExpandScrollbar)}}).bind("touchmove."+f,function(e){e.stopImmediatePropagation();e.preventDefault();var t=n.offset(),a=I(e)[0]-t.top,l=I(e)[1]-t.left;o(i,r,a,l)});e(document).bind("mousemove."+f+" pointermove."+f+" MSPointerMove."+f,function(e){if(n){var t=n.offset(),a=I(e)[0]-t.top,l=I(e)[1]-t.left;if(i===a)return;o(i,r,a,l)}}).add(g).bind("mouseup."+f+" touchend."+f+" pointerup."+f+" MSPointerUp."+f,function(){n&&(y(n,"active",u.autoExpandScrollbar),n=null);c=!1;s&&(document.onselectstart=null);t(!0)})},D=function(){function o(e){if(!ee(e)||c||I(e)[2])return void(t=0);t=1;S=0;b=0;C.removeClass("mCS_touch_action");var o=M.offset();d=I(e)[0]-o.top;u=I(e)[1]-o.left;A=[I(e)[0],I(e)[1]]}function n(e){if(ee(e)&&!c&&!I(e)[2]&&(e.stopImmediatePropagation(),!b||S)){p=J();var t=k.offset(),o=I(e)[0]-t.top,a=I(e)[1]-t.left,n="mcsLinearOut";if(R.push(o),D.push(a),A[2]=Math.abs(I(e)[0]-A[0]),A[3]=Math.abs(I(e)[1]-A[1]),y.overflowed[0])var i=O[0].parent().height()-O[0].height(),r=d-o>0&&o-d>-(i*y.scrollRatio.y)&&(2*A[3]<A[2]||"yx"===B.axis);if(y.overflowed[1])var l=O[1].parent().width()-O[1].width(),f=u-a>0&&a-u>-(l*y.scrollRatio.x)&&(2*A[2]<A[3]||"yx"===B.axis);r||f?(e.preventDefault(),S=1):(b=1,C.addClass("mCS_touch_action"));_="yx"===B.axis?[d-o,u-a]:"x"===B.axis?[null,u-a]:[d-o,null];M[0].idleTimer=250;y.overflowed[0]&&s(_[0],E,n,"y","all",!0);y.overflowed[1]&&s(_[1],E,n,"x",W,!0)}}function i(e){if(!ee(e)||c||I(e)[2])return void(t=0);t=1;e.stopImmediatePropagation();V(C);m=J();var o=k.offset();f=I(e)[0]-o.top;h=I(e)[1]-o.left;R=[];D=[]}function r(e){if(ee(e)&&!c&&!I(e)[2]){e.stopImmediatePropagation();S=0;b=0;g=J();var t=k.offset(),o=I(e)[0]-t.top,a=I(e)[1]-t.left;if(!(g-p>30)){x=1e3/(g-m);var n="mcsEaseOut",i=2.5>x,r=i?[R[R.length-2],D[D.length-2]]:[0,0];v=i?[o-r[0],a-r[1]]:[o-f,a-h];var d=[Math.abs(v[0]),Math.abs(v[1])];x=i?[Math.abs(v[0]/4),Math.abs(v[1]/4)]:[x,x];var u=[Math.abs(M[0].offsetTop)-v[0]*l(d[0]/x[0],x[0]),Math.abs(M[0].offsetLeft)-v[1]*l(d[1]/x[1],x[1])];_="yx"===B.axis?[u[0],u[1]]:"x"===B.axis?[null,u[1]]:[u[0],null];w=[4*d[0]+B.scrollInertia,4*d[1]+B.scrollInertia];var C=parseInt(B.contentTouchScroll)||0;_[0]=d[0]>C?_[0]:0;_[1]=d[1]>C?_[1]:0;y.overflowed[0]&&s(_[0],w[0],n,"y",W,!1);y.overflowed[1]&&s(_[1],w[1],n,"x",W,!1)}}}function l(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?o[0]:o[3]:e>60?t>3?o[3]:o[2]:e>30?t>8?o[1]:t>6?o[0]:t>4?t:o[2]:t>8?t:o[3]}function s(e,t,o,a,n,i){e&&Q(C,e.toString(),{dur:t,scrollEasing:o,dir:a,overwrite:n,drag:i})}var d,u,f,h,m,p,g,v,x,_,w,S,b,C=e(this),y=C.data(a),B=y.opt,T=a+"_"+y.idx,k=e("#mCSB_"+y.idx),M=e("#mCSB_"+y.idx+"_container"),O=[e("#mCSB_"+y.idx+"_dragger_vertical"),e("#mCSB_"+y.idx+"_dragger_horizontal")],R=[],D=[],E=0,W="yx"===B.axis?"none":"all",A=[],P=M.find("iframe"),z=["touchstart."+T+" pointerdown."+T+" MSPointerDown."+T,"touchmove."+T+" pointermove."+T+" MSPointerMove."+T,"touchend."+T+" pointerup."+T+" MSPointerUp."+T];M.bind(z[0],function(e){o(e)}).bind(z[1],function(e){n(e)});k.bind(z[0],function(e){i(e)}).bind(z[2],function(e){r(e)});P.length&&P.each(function(){e(this).load(function(){L(this)&&e(this.contentDocument||this.contentWindow.document).bind(z[0],function(e){o(e);i(e)}).bind(z[1],function(e){n(e)}).bind(z[2],function(e){r(e)})})})},E=function(){function o(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function n(e,t,o){d.type=o&&i?"stepped":"stepless";d.scrollAmount=10;q(r,e,t,"mcsLinearOut",o?60:null)}var i,r=e(this),l=r.data(a),s=l.opt,d=l.sequential,u=a+"_"+l.idx,f=e("#mCSB_"+l.idx+"_container"),h=f.parent();f.bind("mousedown."+u,function(){t||i||(i=1,c=!0)}).add(document).bind("mousemove."+u,function(e){if(!t&&i&&o()){var a=f.offset(),r=I(e)[0]-a.top+f[0].offsetTop,c=I(e)[1]-a.left+f[0].offsetLeft;r>0&&r<h.height()&&c>0&&c<h.width()?d.step&&n("off",null,"stepped"):("x"!==s.axis&&l.overflowed[0]&&(0>r?n("on",38):r>h.height()&&n("on",40)),"y"!==s.axis&&l.overflowed[1]&&(0>c?n("on",37):c>h.width()&&n("on",39)))}}).bind("mouseup."+u,function(){t||(i&&(i=0,n("off",null)),c=!1)})},W=function(){function t(t,a){if(V(o),!A(o,t.target)){var r="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):s&&t.deltaFactor<100?100:t.deltaFactor||100;if("x"===i.axis||"x"===i.mouseWheel.axis)var d="x",u=[Math.round(r*n.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],f="auto"!==i.mouseWheel.scrollAmount?u[1]:u[0]>=l.width()?.9*l.width():u[0],h=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetLeft),m=c[1][0].offsetLeft,p=c[1].parent().width()-c[1].width(),g=t.deltaX||t.deltaY||a;else var d="y",u=[Math.round(r*n.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],f="auto"!==i.mouseWheel.scrollAmount?u[1]:u[0]>=l.height()?.9*l.height():u[0],h=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetTop),m=c[0][0].offsetTop,p=c[0].parent().height()-c[0].height(),g=t.deltaY||a;("y"!==d||n.overflowed[0])&&("x"!==d||n.overflowed[1])&&((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(g=-g),i.mouseWheel.normalizeDelta&&(g=0>g?-1:1),(g>0&&0!==m||0>g&&m!==p||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),Q(o,(h-g*f).toString(),{dir:d}))}}if(e(this).data(a)){var o=e(this),n=o.data(a),i=n.opt,r=a+"_"+n.idx,l=e("#mCSB_"+n.idx),c=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],d=e("#mCSB_"+n.idx+"_container").find("iframe");d.length&&d.each(function(){e(this).load(function(){L(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(e,o){t(e,o)})})});l.bind("mousewheel."+r,function(e,o){t(e,o)})}},L=function(e){var t=null;try{var o=e.contentDocument||e.contentWindow.document;t=o.body.innerHTML}catch(a){}return null!==t},A=function(t,o){var n=o.nodeName.toLowerCase(),i=t.data(a).opt.mouseWheel.disableOver;return e.inArray(n,i)>-1&&!(e.inArray(n,["select","textarea"])>-1&&!e(o).is(":focus"))},P=function(){var t=e(this),o=t.data(a),n=a+"_"+o.idx,i=e("#mCSB_"+o.idx+"_container"),r=i.parent(),l=e(".mCSB_"+o.idx+"_scrollbar ."+d[12]);l.bind("touchstart."+n+" pointerdown."+n+" MSPointerDown."+n,function(){c=!0}).bind("touchend."+n+" pointerup."+n+" MSPointerUp."+n,function(){c=!1}).bind("click."+n,function(a){if(e(a.target).hasClass(d[12])||e(a.target).hasClass("mCSB_draggerRail")){V(t);var n=e(this),l=n.find(".mCSB_dragger");if(n.parent(".mCSB_scrollTools_horizontal").length>0){if(!o.overflowed[1])return;var s="x",c=a.pageX>l.offset().left?-1:1,u=Math.abs(i[0].offsetLeft)-.9*c*r.width()}else{if(!o.overflowed[0])return;var s="y",c=a.pageY>l.offset().top?-1:1,u=Math.abs(i[0].offsetTop)-.9*c*r.height()}Q(t,u.toString(),{dir:s,scrollEasing:"mcsEaseInOut"})}})},z=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=e("#mCSB_"+o.idx+"_container"),l=r.parent();r.bind("focusin."+i,function(){var a=e(document.activeElement),i=r.find(".mCustomScrollBox").length,s=0;a.is(n.advanced.autoScrollOnFocus)&&(V(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=i?(s+17)*i:0,t[0]._focusTimeout=setTimeout(function(){var e=[oe(a)[0],oe(a)[1]],o=[r[0].offsetTop,r[0].offsetLeft],i=[o[0]+e[0]>=0&&o[0]+e[0]<l.height()-a.outerHeight(!1),o[1]+e[1]>=0&&o[0]+e[1]<l.width()-a.outerWidth(!1)],c="yx"!==n.axis||i[0]||i[1]?"all":"none";"x"===n.axis||i[0]||Q(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:s});"y"===n.axis||i[1]||Q(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:s})},t[0]._focusTimer))})},H=function(){var t=e(this),o=t.data(a),n=a+"_"+o.idx,i=e("#mCSB_"+o.idx+"_container").parent();i.bind("scroll."+n,function(){(0!==i.scrollTop()||0!==i.scrollLeft())&&e(".mCSB_"+o.idx+"_scrollbar").css("visibility","hidden")})},U=function(){var t=e(this),o=t.data(a),n=o.opt,i=o.sequential,r=a+"_"+o.idx,l=".mCSB_"+o.idx+"_scrollbar",s=e(l+">a");s.bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(a){function r(e,o){i.scrollAmount=n.snapAmount||n.scrollButtons.scrollAmount;q(t,e,o)}if(a.preventDefault(),$(a)){var l=e(this).attr("class");switch(i.type=n.scrollButtons.scrollType,a.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;c=!0;o.tweenRunning=!1;r("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;c=!1;i.dir&&r("off",l);break;case"click":if("stepped"!==i.type||o.tweenRunning)return;r("on",l)}}})},F=function(){function t(t){function a(e,t){r.type=i.keyboard.scrollType;r.scrollAmount=i.snapAmount||i.keyboard.scrollAmount;"stepped"===r.type&&n.tweenRunning||q(o,e,t)}switch(t.type){case"blur":n.tweenRunning&&r.dir&&a("off",null);break;case"keydown":case"keyup":var l=t.keyCode?t.keyCode:t.which,s="on";if("x"!==i.axis&&(38===l||40===l)||"y"!==i.axis&&(37===l||39===l)){if((38===l||40===l)&&!n.overflowed[0]||(37===l||39===l)&&!n.overflowed[1])return;"keyup"===t.type&&(s="off");e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),a(s,l))}else if(33===l||34===l){if((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){V(o);var f=34===l?-1:1;if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=Math.abs(c[0].offsetLeft)-.9*f*d.width();else var h="y",m=Math.abs(c[0].offsetTop)-.9*f*d.height();Q(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else if((35===l||36===l)&&!e(document.activeElement).is(u)&&((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=35===l?Math.abs(d.width()-c.outerWidth(!1)):0;else var h="y",m=35===l?Math.abs(d.height()-c.outerHeight(!1)):0;Q(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}}var o=e(this),n=o.data(a),i=n.opt,r=n.sequential,l=a+"_"+n.idx,s=e("#mCSB_"+n.idx),c=e("#mCSB_"+n.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",f=c.find("iframe"),h=["blur."+l+" keydown."+l+" keyup."+l];f.length&&f.each(function(){e(this).load(function(){L(this)&&e(this.contentDocument||this.contentWindow.document).bind(h[0],function(e){t(e)})})});s.attr("tabindex","0").bind(h[0],function(e){t(e)})},q=function(t,o,n,i,r){function l(e){var o="stepped"!==f.type,a=r?r:e?o?p/1.5:g:1e3/60,n=e?o?7.5:40:2.5,s=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],u="x"===f.dir[0]?s[1]+f.dir[1]*d[1]*n:s[0]+f.dir[1]*d[0]*n,m="x"===f.dir[0]?s[1]+f.dir[1]*parseInt(f.scrollAmount):s[0]+f.dir[1]*parseInt(f.scrollAmount),v="auto"!==f.scrollAmount?m:u,x=i?i:e?o?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",_=e?!0:!1;return e&&17>a&&(v="x"===f.dir[0]?s[1]:s[0]),Q(t,v.toString(),{dir:f.dir[0],scrollEasing:x,dur:a,onComplete:_}),e?void(f.dir=!1):(clearTimeout(f.step),void(f.step=setTimeout(function(){l()},a)))}function s(){clearTimeout(f.step);Z(f,"step");V(t)}var c=t.data(a),u=c.opt,f=c.sequential,h=e("#mCSB_"+c.idx+"_container"),m="stepped"===f.type?!0:!1,p=u.scrollInertia<26?26:u.scrollInertia,g=u.scrollInertia<1?17:u.scrollInertia;switch(o){case"on":if(f.dir=[n===d[16]||n===d[15]||39===n||37===n?"x":"y",n===d[13]||n===d[15]||38===n||37===n?-1:1],V(t),te(n)&&"stepped"===f.type)return;l(m);break;case"off":s();(m||c.tweenRunning&&f.dir)&&l(!0)}},Y=function(t){var o=e(this).data(a).opt,n=[];return"function"==typeof t&&(t=t()),t instanceof Array?n=t.length>1?[t[0],t[1]]:"x"===o.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||"x"===o.axis?null:t,n[1]=t.x?t.x:t.y||"y"===o.axis?null:t),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},j=function(t,o){if(null!=t&&"undefined"!=typeof t){var n=e(this),i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx+"_container"),s=l.parent(),c=typeof t;o||(o="x"===r.axis?"x":"y");var d="x"===o?l.outerWidth(!1):l.outerHeight(!1),f="x"===o?l[0].offsetLeft:l[0].offsetTop,h="x"===o?"left":"top";switch(c){case"function":return t();case"object":var m=t.jquery?t:e(t);return m.length?"x"===o?oe(m)[1]:oe(m)[0]:void 0;case"string":case"number":if(te(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(f-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var p=f+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf("px")&&te(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-l.outerHeight(!1));if("right"===t)return Math.abs(s.width()-l.outerWidth(!1));if("first"===t||"last"===t){var m=l.find(":"+t);return"x"===o?oe(m)[1]:oe(m)[0]}return e(t).length?"x"===o?oe(e(t))[1]:oe(e(t))[0]:(l.css(h,t),void u.update.call(null,n[0]))}}},X=function(t){function o(){return clearTimeout(h[0].autoUpdate),0===s.parents("html").length?void(s=null):void(h[0].autoUpdate=setTimeout(function(){return f.advanced.updateOnSelectorChange&&(m=r(),m!==w)?(l(3),void(w=m)):(f.advanced.updateOnContentResize&&(p=[h.outerHeight(!1),h.outerWidth(!1),v.height(),v.width(),_()[0],_()[1]],(p[0]!==S[0]||p[1]!==S[1]||p[2]!==S[2]||p[3]!==S[3]||p[4]!==S[4]||p[5]!==S[5])&&(l(p[0]!==S[0]||p[1]!==S[1]),S=p)),f.advanced.updateOnImageLoad&&(g=n(),g!==b&&(h.find("img").each(function(){i(this)}),b=g)),void((f.advanced.updateOnSelectorChange||f.advanced.updateOnContentResize||f.advanced.updateOnImageLoad)&&o()))},f.advanced.autoUpdateTimeout))}function n(){var e=0;return f.advanced.updateOnImageLoad&&(e=h.find("img").length),e}function i(t){function o(e,t){return function(){return t.apply(e,arguments)}}function a(){this.onload=null;e(t).addClass(d[2]);l(2)}if(e(t).hasClass(d[2]))return void l();var n=new Image;n.onload=o(n,a);n.src=t.src}function r(){f.advanced.updateOnSelectorChange===!0&&(f.advanced.updateOnSelectorChange="*");var t=0,o=h.find(f.advanced.updateOnSelectorChange);return f.advanced.updateOnSelectorChange&&o.length>0&&o.each(function(){t+=e(this).height()+e(this).width()}),t}function l(e){clearTimeout(h[0].autoUpdate);u.update.call(null,s[0],e)}var s=e(this),c=s.data(a),f=c.opt,h=e("#mCSB_"+c.idx+"_container");if(t)return clearTimeout(h[0].autoUpdate),void Z(h[0],"autoUpdate");var m,p,g,v=h.parent(),x=[e("#mCSB_"+c.idx+"_scrollbar_vertical"),e("#mCSB_"+c.idx+"_scrollbar_horizontal")],_=function(){return[x[0].is(":visible")?x[0].outerHeight(!0):0,x[1].is(":visible")?x[1].outerWidth(!0):0]},w=r(),S=[h.outerHeight(!1),h.outerWidth(!1),v.height(),v.width(),_()[0],_()[1]],b=n();o()},N=function(e,t,o){return Math.round(e/t)*t-o},V=function(t){var o=t.data(a),n=e("#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal");n.each(function(){K.call(this)})},Q=function(t,o,n){function i(e){return s&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||_>=w[0]+b,c.callbacks.alwaysTriggerOffsets||-C>=_]}function l(){var e=[h[0].offsetTop,h[0].offsetLeft],o=[v[0].offsetTop,v[0].offsetLeft],a=[h.outerHeight(!1),h.outerWidth(!1)],i=[f.height(),f.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:o[0],draggerLeft:o[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(a[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(a[1])-i[1])),direction:n.dir}}var s=t.data(a),c=s.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},n=e.extend(d,n),u=[n.dur,n.drag?0:n.dur],f=e("#mCSB_"+s.idx),h=e("#mCSB_"+s.idx+"_container"),m=h.parent(),p=c.callbacks.onTotalScrollOffset?Y.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?Y.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=n.trigger,(0!==m.scrollTop()||0!==m.scrollLeft())&&(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),m.scrollTop(0).scrollLeft(0)),"_resetY"!==o||s.contentReset.y||(i("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==o||s.contentReset.x||(i("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==o&&"_resetX"!==o){switch(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(i("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(i("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount&&(o=N(o,c.snapAmount,c.snapOffset)),n.dir){case"x":var v=e("#mCSB_"+s.idx+"_dragger_horizontal"),x="left",_=h[0].offsetLeft,w=[f.width()-h.outerWidth(!1),v.parent().width()-v.width()],S=[o,0===o?0:o/s.scrollRatio.x],b=p[1],C=g[1],B=b>0?b/s.scrollRatio.x:0,T=C>0?C/s.scrollRatio.x:0;break;case"y":var v=e("#mCSB_"+s.idx+"_dragger_vertical"),x="top",_=h[0].offsetTop,w=[f.height()-h.outerHeight(!1),v.parent().height()-v.height()],S=[o,0===o?0:o/s.scrollRatio.y],b=p[0],C=g[0],B=b>0?b/s.scrollRatio.y:0,T=C>0?C/s.scrollRatio.y:0}S[1]<0||0===S[0]&&0===S[1]?S=[0,0]:S[1]>=w[1]?S=[w[0],w[1]]:S[0]=-S[0];t[0].mcs||(l(),i("onInit")&&c.callbacks.onInit.call(t[0]));clearTimeout(h[0].onCompleteTimeout);(s.tweenRunning||!(0===_&&S[0]>=0||_===w[0]&&S[0]<=w[0]))&&(G(v[0],x,Math.round(S[1]),u[1],n.scrollEasing),G(h[0],x,Math.round(S[0]),u[0],n.scrollEasing,n.overwrite,{onStart:function(){n.callbacks&&n.onStart&&!s.tweenRunning&&(i("onScrollStart")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,y(v),s.cbOffsets=r())},onUpdate:function(){n.callbacks&&n.onUpdate&&i("whileScrolling")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(n.callbacks&&n.onComplete){"yx"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){i("onScroll")&&(l(),c.callbacks.onScroll.call(t[0]));i("onTotalScroll")&&S[1]>=w[1]-B&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0]));i("onTotalScrollBack")&&S[1]<=T&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0]));s.tweenRunning=!1;h[0].idleTimer=0;y(v,"hide")},e)}}}))}},G=function(e,t,o,a,n,i,r){function l(){S.stop||(x||m.call(),x=J()-v,s(),x>=S.time&&(S.time=x>S.time?x+f-(x-S.time):x+f-1,S.time<x+1&&(S.time=x+1)),S.time<a?S.id=h(l):g.call())}function s(){a>0?(S.currVal=u(S.time,_,b,a,n),w[t]=Math.round(S.currVal)+"px"):w[t]=o+"px";p.call()}function c(){f=1e3/60;S.time=x+f;h=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return s(),setTimeout(e,.01)};S.id=h(l)}function d(){null!=S.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(S.id):clearTimeout(S.id),S.id=null)}function u(e,t,o,a,n){switch(n){case"linear":case"mcsLinear":return o*e/a+t;case"mcsLinearOut":return e/=a,e--,o*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=a/2,1>e?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=a/2,1>e?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=a/2,1>e?o/2*e*e*e+t:(e-=2,o/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=a,e--,-o*(e*e*e*e-1)+t;case"easeOutStrong":return o*(-Math.pow(2,-10*e/a)+1)+t;case"easeOut":case"mcsEaseOut":default:var i=(e/=a)*e,r=i*e;return t+o*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var f,h,r=r||{},m=r.onStart||function(){},p=r.onUpdate||function(){},g=r.onComplete||function(){},v=J(),x=0,_=e.offsetTop,w=e.style,S=e._mTween[t];"left"===t&&(_=e.offsetLeft);var b=o-_;S.stop=0;"none"!==i&&d();c()},J=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},K=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],o=0;o<t.length;o++){var a=t[o];e._mTween[a].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[a].id):clearTimeout(e._mTween[a].id),e._mTween[a].id=null,e._mTween[a].stop=1)}},Z=function(e,t){try{delete e[t]}catch(o){e[t]=null}},$=function(e){return!(e.which&&1!==e.which)},ee=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},te=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},oe=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]};e.fn[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)};e[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)};e[o].defaults=i;window[o]=!0;e(window).load(function(){e(n)[o]();e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var o,a,n=e(t),i=n.parents(".mCSB_container");if(i.length)return o=i.parent(),a=[i[0].offsetTop,i[0].offsetLeft],a[0]+oe(n)[0]>=0&&a[0]+oe(n)[0]<o.height()-n.outerHeight(!1)&&a[1]+oe(n)[1]>=0&&a[1]+oe(n)[1]<o.width()-n.outerWidth(!1)},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var o=e(t).data(a);if(o)return o.overflowed[0]||o.overflowed[1]}})})})});jQuery.extend({highlight:function(node,re,nodeName,className){if(node.nodeType===3){var match=node.data.match(re);if(match){var highlight=document.createElement(nodeName||"span");highlight.className=className||"highlight";var wordNode=node.splitText(match.index);wordNode.splitText(match[0].length);var wordClone=wordNode.cloneNode(!0);return highlight.appendChild(wordClone),wordNode.parentNode.replaceChild(highlight,wordNode),1}}else if(node.nodeType===1&&node.childNodes&&!/(script|style)/i.test(node.tagName)&&!(node.tagName===nodeName.toUpperCase()&&node.className===className))for(var i=0;i<node.childNodes.length;i++)i+=jQuery.highlight(node.childNodes[i],re,nodeName,className);return 0}});jQuery.fn.unhighlight=function(options){var settings={className:"highlight",element:"span"};return jQuery.extend(settings,options),this.find(settings.element+"."+settings.className).each(function(){var parent=this.parentNode;parent.replaceChild(this.firstChild,this);parent.normalize()}).end()};jQuery.fn.highlight=function(words,options){var settings={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1};if(jQuery.extend(settings,options),words.constructor===String&&(words=[words]),words=jQuery.grep(words,function(word){return word!=""}),words=jQuery.map(words,function(word){return word.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}),words.length==0)return this;var flag=settings.caseSensitive?"":"i",pattern="("+words.join("|")+")";settings.wordsOnly&&(pattern="\\b"+pattern+"\\b");var re=new RegExp(pattern,flag);return this.each(function(){jQuery.highlight(this,re,settings.element,settings.className)})};
/*! Ajax Search pro 4.0 js */
(function($){var methods={init:function(options,elem){var $this=this;return this.elem=elem,this.$elem=$(elem),$this.searching=!1,$this.o=$.extend({},options),$this.n=new Object,$this.n.container=$(this.elem),$this.o.rid=$this.n.container.attr("id").match(/^ajaxsearchpro(.*)/)[1],$this.o.id=$this.n.container.attr("id").match(/^ajaxsearchpro(.*)_/)[1],$this.n.probox=$(".probox",$this.n.container),$this.n.proinput=$(".proinput",$this.n.container),$this.n.text=$(".proinput input.orig",$this.n.container),$this.n.textAutocomplete=$(".proinput input.autocomplete",$this.n.container),$this.n.loading=$(".proinput .loading",$this.n.container),$this.n.proloading=$(".proloading",$this.n.container),$this.n.proclose=$(".proclose",$this.n.container),$this.n.promagnifier=$(".promagnifier",$this.n.container),$this.n.prosettings=$(".prosettings",$this.n.container),$this.n.searchsettings=$("#ajaxsearchprosettings"+$this.o.rid),$this.n.trythis=$("#asp-try-"+$this.o.rid),$this.o.blocking=!1,$this.resultsOpened=!1,$this.n.searchsettings.length<=0&&($this.n.searchsettings=$("#ajaxsearchprobsettings"+$this.o.rid),$this.o.blocking=!0),$this.n.resultsDiv=$("#ajaxsearchprores"+$this.o.rid),$this.n.hiddenContainer=$("#asp_hidden_data"),$this.n.aspItemOverlay=$(".asp_item_overlay",$this.n.hiddenContainer),$this.resizeTimeout=null,typeof $.browser!="undefined"&&typeof $.browser.mozilla!="undefined"&&typeof $.browser.version!="undefined"&&parseInt($.browser.version)>13&&$this.n.searchsettings.addClass("asp_firefox"),$this.n.showmore=$(".showmore",$this.n.resultsDiv),$this.n.items=$(".item",$this.n.resultsDiv),$this.n.results=$(".results",$this.n.resultsDiv),$this.n.resdrg=$(".resdrg",$this.n.resultsDiv),$this.il={columns:3,itemsPerPage:6},$this.timeouts={compactBeforeOpen:null,compactAfterOpen:null},$this.firstClick=!0,$this.post=null,$this.postAuto=null,$this.cleanUp(),$this.n.textAutocomplete.val(""),$this.o.resultitemheight=parseInt($this.o.resultitemheight),$this.scroll=new Object,$this.settScroll=null,$this.n.resultsAppend=$("#wpdreams_asp_results_"+$this.o.id),$this.n.settingsAppend=$("#wpdreams_asp_settings_"+$this.o.id),$this.currentPage=1,$this.isotopic=null,$this.lastSuccesfulPhrase="",$this.supportTransform=getSupportedTransform(),$this.animOptions=is_touch_device()?$this.o.animations.mob:$this.o.animations.pc,$this.o.redirect_url=$("<textarea />").html($this.o.redirect_url).text(),$this.animationOpacity=$this.animOptions.items.indexOf("In")<0?"opacityOne":"opacityZero",$this.filterFns={number:function(){for(var $parent=$(this).parent();!$parent.hasClass("isotopic");)$parent=$parent.parent();var number=$(this).attr("data-itemnum"),currentPage=$this.currentPage,itemsPerPage=$this.il.itemsPerPage;return parseInt(number,10)<itemsPerPage*currentPage&&parseInt(number,10)>=itemsPerPage*(currentPage-1)}},$this.o.compact.overlay==1&&$("#asp_absolute_overlay").length<=0&&$("<div id='asp_absolute_overlay'><\/div>").appendTo("body"),$this.disableMobileScroll=!1,$this.initCompact(),$this.initSettingsBox(),$this.initResultsBox(),$this.monitorTouchMove(),detectOldIE()&&$this.n.container.addClass("asp_msie"),$this.initSettingsAnimations(),$this.initResultsAnimations(),$this.initEvents(),this},initCompact:function(){var $this=this;if($this.o.compact.enabled==1&&$this.o.compact.position!="fixed"&&($this.o.compact.overlay=0),$this.o.compact.enabled==1&&$this.o.compact.position=="fixed")var iv=setInterval(function(){if($this.n.container.css("position")=="fixed"){if($this.n.container.detach().appendTo("body"),$this.n.trythis.detach().appendTo("body"),is_touch_device()){$this.n.container.css("position","absolute");$this.n.trythis.css("position","absolute");var originalContainerOffTop=$this.n.container.offset().top;$(window).scroll(function(){$this.resultsOpened&&$this.dragging||(clearTimeout($.data(this,"xscrollTimer")),$.data(this,"xscrollTimer",setTimeout(function(){$this.n.container.css({top:$(window).scrollTop()+originalContainerOffTop});$this.n.trythis.css({top:$(window).scrollTop()+originalContainerOffTop+$this.n.container.outerHeight()})},130)))})}clearInterval(iv)}},200)},initSettingsBox:function(){var $this=this;$this.n.settingsAppend.length>0?($this.o.blocking==!1&&($this.n.searchsettings.attr("id",$this.n.searchsettings.attr("id").replace("prosettings","probsettings")),$this.o.blocking=!0),$this.n.searchsettings.detach().appendTo($this.n.settingsAppend)):$this.o.blocking==!1&&$this.n.searchsettings.detach().appendTo("body")},initResultsBox:function(){var $this=this;$this.o.resultsposition=="hover"&&$this.n.resultsAppend.length<=0?$this.n.resultsDiv.detach().appendTo("body"):$this.n.resultsAppend.length>0?($this.o.resultsposition="block",$this.n.resultsDiv.css({position:"static"}),$this.n.resultsDiv.detach().appendTo($this.n.resultsAppend)):$this.n.resultsDiv.detach().insertAfter($this.n.container);$this.o.resultstype=="horizontal"?$this.createHorizontalScroll():$this.o.resultstype=="vertical"&&$this.createVerticalScroll();$this.o.resultstype=="polaroid"&&$this.n.results.addClass("photostack")},monitorTouchMove:function(){var $this=this;$this.dragging=!1;$("body").on("touchmove",function(){$this.dragging=!0});$("body").on("touchstart",function(){$this.dragging=!1})},duplicateCheck:function(){var $this=this,duplicateChk={};$("div[id*=ajaxsearchpro]").each(function(){duplicateChk.hasOwnProperty(this.id)?$(this).remove():duplicateChk[this.id]="true"})},analytics:function(term){var $this=this;$this.o.analytics&&$this.o.analyticsString!=""&&typeof ga=="function"&&ga("send","pageview",{page:"/"+$this.o.analyticsString.replace("{asp_term}",term),title:"Ajax Search"})},createVerticalScroll:function(){var $this=this;$this.scroll=$this.n.results.mCustomScrollbar({contentTouchScroll:!0,scrollButtons:{enable:!0},callbacks:{onScroll:function(){if(!is_touch_device()){var top=parseInt($(".mCSB_container",$this.n.results).position().top),children=$(".mCSB_container .resdrg").children(),overall=0,prev=3e3,diff=4e3,s_diff=1e4,s_overall=1e4,$last=null;children.each(function(){diff=Math.abs(Math.abs(top)-overall);diff<prev&&(s_diff=diff,s_overall=overall,$last=$(this));overall+=$(this).outerHeight(!0);prev=diff});$last.hasClass("group")&&(s_overall=s_overall+$last.outerHeight(!0));$this.scroll.mCustomScrollbar("scrollTo",$last,{scrollInertia:200,callbacks:!1})}}}})},createHorizontalScroll:function(){var $this=this;$this.scroll=$this.n.results.mCustomScrollbar({horizontalScroll:!0,contentTouchScroll:!0,scrollButtons:{enable:!0}})},initEvents:function(){var $this=this;$this.n.text.click(function(){$(this).focus()});$($this.n.text.parent()).submit(function(e,args){e.preventDefault();(is_touch_device()||typeof args!="undefined"&&args=="ajax")&&$this.search()});$this.n.resultsDiv.css({opacity:0});$(document).bind("click touchend",function(){if($this.o.blocking==!1&&$this.hideSettings(),$this.o.compact.enabled){var compact=$this.n.container.attr("asp-compact")||"closed";$this.o.compact.closeOnDocument!=1||compact!="open"||$this.resultsOpened||($this.closeCompact(),$this.post!=null&&$this.post.abort(),$this.n.proloading.css("display","none"))}else if($this.resultsOpened==!1||$this.o.closeOnDocClick!=1)return;$this.dragging||$this.hideResults()});$this.n.proclose.bind("click touchend",function(){$this.resultsOpened!=!1&&($this.n.text.val(""),$this.n.textAutocomplete.val(""),$this.hideResults(),$this.n.text.focus())});$($this.elem).bind("click touchend",function(e){e.stopImmediatePropagation()});$this.n.resultsDiv.bind("click touchend",function(e){e.stopImmediatePropagation()});$this.n.searchsettings.bind("click touchend",function(e){e.stopImmediatePropagation()});$this.n.prosettings.on("click",function(){$this.n.prosettings.data("opened")==0?$this.showSettings():$this.hideSettings()});$this.o.settingsVisible==1&&$this.n.prosettings.click();$(document).bind("touchmove",function(e){$this.disableMobileScroll==!0&&e.preventDefault()});var resizeTimer;$(window).on("resize",function(){clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){$this.resize()},250)});var scrollTimer;$(window).on("scroll",function(){clearTimeout(scrollTimer);scrollTimer=setTimeout(function(){$this.scrolling(!1)},250)});if($this.initNavigationEvent(),$(window).trigger("resize"),$(window).trigger("scroll"),$this.o.aapl.on_click==1)jQuery("div[id*=ajaxsearchprores"+$this.o.id+"_] .results").on("click",".item",function(e){e.preventDefault();e.stopPropagation();typeof event!="undefined"&&typeof window.event.cancelBubble!="undefined"&&(window.event.cancelBubble=!0);AAPL_loadPage(jQuery(this).find("a").attr("href"))});$this.initMagnifierEvent();$this.initAutocompleteEvent();$this.initPagerEvent();$this.initOverlayEvent();$this.initNoUIEvents();$this.initFacetEvents()},initNavigationEvent:function(){var $this=this;$($this.n.resultsDiv).on("mouseenter",".item",function(){$(".item",$this.n.resultsDiv).removeClass("hovered");$(this).addClass("hovered")});$($this.n.resultsDiv).on("mouseleave",".item",function(){$(".item",$this.n.resultsDiv).removeClass("hovered")});$(document).keydown(function(e){if(window.event)var keycode=window.event.keyCode,ktype=window.event.type;else if(e)var keycode=e.which,ktype=e.type;$(".item",$this.n.resultsDiv).length>0&&$this.n.resultsDiv.css("display")!="none"&&$this.o.resultstype=="vertical"&&(keycode==40&&(e.stopPropagation(),e.preventDefault(),$this.n.text.blur(),$this.post!=null&&$this.post.abort(),$(".item.hovered",$this.n.resultsDiv).length==0?$(".item",$this.n.resultsDiv).first().addClass("hovered"):$(".item.hovered",$this.n.resultsDiv).removeClass("hovered").next().next(".item").addClass("hovered"),$this.scroll.mCustomScrollbar("scrollTo",".resdrg .item.hovered",{scrollInertia:200,callbacks:!1})),keycode==38&&(e.stopPropagation(),e.preventDefault(),$this.n.text.blur(),$this.post!=null&&$this.post.abort(),$(".item.hovered",$this.n.resultsDiv).length==0?$(".item",$this.n.resultsDiv).last().addClass("hovered"):$(".item.hovered",$this.n.resultsDiv).removeClass("hovered").prev().prev(".item").addClass("hovered"),$this.scroll.mCustomScrollbar("scrollTo",".resdrg .item.hovered",{scrollInertia:200,callbacks:!1})),keycode==13&&$(".item.hovered",$this.n.resultsDiv).length>0&&(e.stopPropagation(),e.preventDefault(),$(".item.hovered a.asp_res_url",$this.n.resultsDiv).get(0).click()))})},initMagnifierEvent:function(){var $this=this;$this.o.compact.enabled==1&&$this.initCompactEvents();var t;$this.n.promagnifier.add($this.n.text).bind("click keyup",function(e){if((window.event?($this.keycode=window.event.keyCode,$this.ktype=window.event.type):e&&($this.keycode=e.which,$this.ktype=e.type),!($this.keycode>=37)||!($this.keycode<=40))&&(!$(this).hasClass("orig")||$this.ktype!="click")&&($this.o.compact.enabled!=1||$this.ktype!="click"&&$this.ktype!="touchend"||$this.o.compact.closeOnMagnifier!=1)){var compact=$this.n.container.attr("asp-compact")||"closed";if($this.o.compact.enabled!=1||$this.ktype!="click"&&$this.ktype!="touchend"||compact!="closed"){if($this.ktype=="keyup"&&$this.o.aapl.on_typing==1&&typeof AAPL_loadPage!="undefined"){clearTimeout(t);$this.aaplResults();return}if($this.ktype=="click"&&$(this).hasClass("promagnifier")&&$this.o.aapl.on_magnifier==1&&typeof AAPL_loadPage){clearTimeout(t);$this.aaplResults();return}if($this.ktype=="keyup"&&$this.keycode==13&&$this.o.aapl.on_enter==1&&typeof AAPL_loadPage!="undefined"){clearTimeout(t);$this.aaplResults();return}if($this.n.text.val()!=""&&($this.o.redirectonclick==1&&$this.ktype=="click"&&$this.o.redirectClickTo=="results_page"||$this.o.redirect_on_enter==1&&$this.ktype=="keyup"&&$this.keycode==13&&$this.o.redirectEnterTo=="results_page")){var plus="",url=$this.o.redirect_url.replace("{phrase}",$this.n.text.val());if(typeof AAPL_loadPage!="undefined"){var plus="";$this.o.overridewpdefault&&(plus="asid="+$this.o.id+"&"+$("form",$this.n.searchsettings).serialize(),plus="&asp_data="+Base64.encode(plus));location.href=$this.o.homeurl+url+plus}else $this.o.overridewpdefault?asp_submit_to_url($this.o.homeurl+url+"&asp_active=1","post",{p_asid:$this.o.id,p_asp_data:$("form",$this.n.searchsettings).serialize()}):location.href=$this.o.homeurl+url;$this.n.proloading.css("display","none");$this.o.blocking==!1&&$this.hideSettings();$this.hideResults();$this.post!=null&&$this.post.abort();clearTimeout(t);return}if($this.o.triggeronclick!=0||$this.ktype!="click"){if($this.ktype=="keyup"){if($this.o.triggerontype==0&&$this.keycode!="13")return;if($this.o.triggeronreturn==0&&$this.keycode=="13")return}if($this.n.text.val().length<$this.o.charcount){$this.keycode!="8"||is_touch_device()||($this.n.proloading.css("display","none"),$this.o.blocking==!1&&$this.hideSettings(),$this.hideResults(),$this.post!=null&&$this.post.abort(),clearTimeout(t));return}$this.post!=null&&$this.post.abort();clearTimeout(t);$this.n.proloading.css("display","none");t=setTimeout(function(){$this.n.text.val()==$this.lastSuccesfulPhrase&&$this.resultsOpened?$this.n.proclose.css("display","block"):$this.search()},350)}}}})},initCompactEvents:function(){var $this=this,scrollTopx=0;$this.n.promagnifier.click(function(){var compact=$this.n.container.attr("asp-compact")||"closed";if(scrollTopx=$(window).scrollTop(),$this.hideSettings(),$this.hideResults(),compact=="closed")$this.openCompact(),$this.n.text.focus();else{if($this.o.compact.closeOnMagnifier!=1)return;$this.closeCompact();$this.post!=null&&$this.post.abort();$this.n.proloading.css("display","none")}})},openCompact:function(){var $this=this;$this.n.container.is("[asp-compact-w]")||($this.n.probox.attr("asp-compact-w",$this.n.probox.width()),$this.n.container.attr("asp-compact-w",$this.n.container.width()));$this.o.compact.enabled==1&&$this.o.compact.position!="static"&&($this.n.trythis.css({top:$this.n.container.position().top+$this.n.container.outerHeight(!0),left:$this.n.container.offset().left}),is_touch_device()&&$this.n.container.css({top:$this.n.container.position().top}));$this.n.container.css({width:$this.n.container.width()});$this.n.probox.css({width:"auto"});setTimeout(function(){$(">:not(.promagnifier)",$this.n.probox).removeClass("hiddend")},80);clearTimeout($this.timeouts.compactBeforeOpen);$this.timeouts.compactBeforeOpen=setTimeout(function(){$this.n.container.css({"max-width":$this.o.compact.width,width:$this.o.compact.width});$this.o.compact.overlay==1&&($this.n.container.css("z-index",999999),$this.n.searchsettings.css("z-index",999999),$this.n.resultsDiv.css("z-index",999999),$this.n.trythis.css("z-index",999998),$("#asp_absolute_overlay").css({opacity:1,width:"100%",height:"100%","z-index":999990}))},50);clearTimeout($this.timeouts.compactAfterOpen);$this.timeouts.compactAfterOpen=setTimeout(function(){$this.resize();$this.n.container.css("position")!="static"&&$this.n.trythis.css({display:"block"});$this.n.text.focus();$this.scrolling()},500);$this.n.container.attr("asp-compact","open")},closeCompact:function(){var $this=this;clearTimeout($this.timeouts.compactBeforeOpen);clearTimeout($this.timeouts.compactAfterOpen);$(">:not(.promagnifier)",$this.n.probox).addClass("hiddend");$this.n.container.css({width:"auto"});$this.n.probox.css({width:$this.n.probox.attr("asp-compact-w")});$this.n.container.css("position")!="static"&&$this.n.trythis.css({left:$this.n.container.position().left,display:"none"});$this.o.compact.overlay==1&&($this.n.container.css("z-index",""),$this.n.searchsettings.css("z-index",""),$this.n.resultsDiv.css("z-index",""),$this.n.trythis.css("z-index",""),$("#asp_absolute_overlay").css({opacity:0,width:0,height:0,"z-index":0}));$this.n.container.attr("asp-compact","closed")},initAutocompleteEvent:function(){var $this=this,tt;$this.o.autocomplete.enabled!=1||is_touch_device()||$this.n.text.keyup(function(e){window.event?($this.keycode=window.event.keyCode,$this.ktype=window.event.type):e&&($this.keycode=e.which,$this.ktype=e.type);var thekey=39;$("body").hasClass("rtl")&&(thekey=37);$this.keycode==thekey&&$this.n.textAutocomplete.val()!=""?(e.preventDefault(),$this.n.text.val($this.n.textAutocomplete.val()),$this.post!=null&&$this.post.abort(),$this.search()):(clearTimeout(tt),$this.postAuto!=null&&$this.postAuto.abort(),$this.o.autocomplete.googleOnly==1?$this.autocompleteGoogleOnly():tt=setTimeout(function(){$this.autocomplete();tt=null},450))})},initPagerEvent:function(){var $this=this;$this.n.resultsDiv.on("click","nav>a",function(e){e.preventDefault();$this.currentPage=$(this).hasClass("asp_prev")?$this.currentPage==1?Math.ceil($this.n.items.length/$this.il.itemsPerPage):--$this.currentPage:$this.currentPage==Math.ceil($this.n.items.length/$this.il.itemsPerPage)?1:++$this.currentPage;$("nav>ul li",$this.n.resultsDiv).removeClass("asp_active");$($("nav>ul li",$this.n.resultsDiv).get($this.currentPage-1)).addClass("asp_active");$this.isotopic.arrange({filter:$this.filterFns.number});$this.isotopicPagerScroll();$this.removeAnimation()});$this.n.resultsDiv.on("click","nav>ul li",function(e){e.preventDefault();$this.currentPage=parseInt($("span",this).html(),10);$("nav>ul li",$this.n.resultsDiv).removeClass("asp_active");$($("nav>ul li",$this.n.resultsDiv).get($this.currentPage-1)).addClass("asp_active");$this.isotopic.arrange({filter:$this.filterFns.number});$this.isotopicPagerScroll();$this.removeAnimation()})},isotopicPagerScroll:function(){var $this=this,$activeLeft=$("nav>ul li.asp_active",$this.n.resultsDiv).offset().left,$activeWidth=$("nav>ul li.asp_active",$this.n.resultsDiv).outerWidth(!0),$nextLeft=$("nav>a.asp_next",$this.n.resultsDiv).offset().left,$prevLeft=$("nav>a.asp_prev",$this.n.resultsDiv).offset().left;if(!($activeWidth<=0)){var toTheLeft=Math.ceil(($prevLeft-$activeLeft+2*$activeWidth)/$activeWidth);if(toTheLeft>0){if($("nav>ul li.asp_active",$this.n.resultsDiv).prev().length==0){$("nav>ul",$this.n.resultsDiv).css({left:$activeWidth+"px"});return}$("nav>ul",$this.n.resultsDiv).css({left:"+="+$activeWidth*toTheLeft+"px"})}else{if($("nav>ul li.asp_active",$this.n.resultsDiv).next().length==0)var toTheRight=Math.ceil(($activeLeft-$nextLeft+$activeWidth)/$activeWidth);else var toTheRight=Math.ceil(($activeLeft-$nextLeft+2*$activeWidth)/$activeWidth);toTheRight>0&&$("nav>ul",$this.n.resultsDiv).css({left:"-="+$activeWidth*toTheRight+"px"})}}},initOverlayEvent:function(){var $this=this;if($this.o.resultstype=="isotopic"){if($this.o.iishowOverlay){$this.n.resultsDiv.on("mouseenter","div.item",function(){$(".asp_item_overlay",this).fadeIn();$(".asp_item_img",this).length>0&&($this.o.iiblurOverlay&&$(".asp_item_overlay_img",this).fadeIn(),$this.o.iihideContent&&$(".asp_content",this).slideUp(100))});$this.n.resultsDiv.on("mouseleave","div.item",function(){$(".asp_item_overlay",this).fadeOut();$(".asp_item_img",this).length>0&&($this.o.iiblurOverlay&&$(".asp_item_overlay_img",this).fadeOut(),$this.o.iihideContent&&$(".asp_item_img",this).length>0&&$(".asp_content",this).slideDown(100))});$this.n.resultsDiv.on("mouseenter","div.asp_item_inner",function(){$(this).addClass("animated pulse")});$this.n.resultsDiv.on("mouseleave","div.asp_item_inner",function(){$(this).removeClass("animated pulse")});$this.n.resultsDiv.on("click",".asp_item_overlay",function(){var link=$(".asp_content h3 a",$(this).parent()).get(0);typeof link!="undefined"&&link.click()})}$(window).on("resize",function(){$this.resizeTimeout!=null&&clearTimeout($this.resizeTimeout);$this.resizeTimeout=setTimeout(function(){$this.calculateIsotopeRows();$this.showPagination();$this.removeAnimation();$this.isotopic!=null&&$this.isotopic.arrange({filter:$this.filterFns.number})},200)})}},initNoUIEvents:function(){var $this=this;$(".noui-slider-json"+$this.o.rid).each(function(){var uid=$(this).attr("id").match(/^noui-slider-json(.*)/)[1],jsonData=$(this).html();if(typeof jsonData=="undefined")return!1;var args=JSON.parse(jsonData);if(typeof $.fn.noUiSlider!="undefined")$(args.node).noUiSlider(args.main);else return alert("Warning: Seems like you are using sliders in search settings,\n"+"but NoUI Slider script is not loaded!\n\n"+"Go to Ajax Search Pro -> Compatibility settings submenu to enable it!"),console.log("WARNING: Seems like you are using sliders in search settings,\n"+"but NoUI Slider script is not loaded!\n\n"+"Go to Ajax Search Pro -> Compatibility settings submenu to enable it!"),!1;args.links.forEach(function(el){$(args.node).Link(el.handle).to($(el.target),null,wNumb(el.wNumb));$(args.node).on("slide",function(e){e.preventDefault()})})})},initFacetEvents:function(){var $this=this;if($this.o.triggerOnFacetChange!=0)$('input, div[id*="-handles"], select',$this.n.searchsettings).on("change slidechange",function(){$this.n.text.val().length<$this.o.charcount||($this.post!=null&&$this.post.abort(),$this.search())})},destroy:function(){return this.each(function(){var $this=$.extend({},this,methods);$(window).unbind($this)})},searchfor:function(phrase){$(".proinput input",this).val(phrase).trigger("keyup")},autocomplete:function(){var $this=this,val=$this.n.text.val();if($this.n.text.val()==""){$this.n.textAutocomplete.val("");return}var autocompleteVal=$this.n.textAutocomplete.val();if(autocompleteVal==""||autocompleteVal.indexOf(val)!=0){$this.n.textAutocomplete.val("");var data={action:"ajaxsearchpro_autocomplete",asid:$this.o.id,sauto:$this.n.text.val()};$this.postAuto=$.post(ASP.ajaxurl,data,function(response){if(response.length>0){response=$("<textarea />").html(response).text();var part1=val,part2=response.substr(val.length);response=part1+part2}$this.n.textAutocomplete.val(response)})}},autocompleteGoogleOnly:function(){var $this=this,val=$this.n.text.val();if($this.n.text.val()==""){$this.n.textAutocomplete.val("");return}var autocompleteVal=$this.n.textAutocomplete.val();(autocompleteVal==""||autocompleteVal.indexOf(val)!=0)&&($this.n.textAutocomplete.val(""),$.ajax({url:"https://clients1.google.com/complete/search",dataType:"jsonp",data:{q:val,hl:$this.o.autocomplete.lang,nolabels:"t",client:"hp",ds:""},success:function(data){data[1].length>0&&(response=data[1][0][0].replace(/(<([^>]+)>)/ig,""),response=$("<textarea />").html(response).text(),response=response.substr(val.length),$this.n.textAutocomplete.val(val+response))}}))},search:function(){var $this=this;if(!$this.searching||!0){$this.searching=!0;$this.n.proloading.css({display:"block"});$this.n.proclose.css({display:"none"});$this.o.blocking==!1&&$this.hideSettings();var asp_preview_options=0;$("#asp_preview_options").length>0&&(asp_preview_options=$("#asp_preview_options").html());var data={action:"ajaxsearchpro_search",aspp:$this.n.text.val(),asid:$this.o.id,asp_inst_id:$this.o.rid,options:$("form",$this.n.searchsettings).serialize(),asp_preview_options:asp_preview_options};$this.analytics($this.n.text.val());$this.post=$.post(ASP.ajaxurl,data,function(response){if(response=response.replace(/^\s*[\r\n]/gm,""),response=response.match(/!!ASPSTART!!(.*[\s\S]*)!!ASPEND!!/)[1],$this.n.resdrg.html(""),$this.n.resdrg.html(response),$(".asp_keyword",$this.n.resdrg).bind("click",function(){$this.n.text.val($(this).html());$("input.orig",$this.n.container).val($(this).html()).keydown();$("form",$this.n.container).trigger("submit","ajax")}),$this.n.items=$(".item",$this.n.resultsDiv),$(".asp_res_url",$this.n.resultsDiv).length>0&&$this.o.redirectonclick==1&&$this.ktype=="click"&&$this.o.redirectClickTo!="results_page"||$this.o.redirect_on_enter==1&&$this.ktype=="keyup"&&$this.keycode==13&&$this.o.redirectEnterTo!="results_page")return location.href=$($(".asp_res_url",$this.n.resultsDiv).get(0)).attr("href"),!1;if($this.showResults(),$this.scrollToResults(),$this.lastSuccesfulPhrase=$this.n.text.val(),$this.n.showmore!=null&&$this.n.items.length>0){var url=$this.o.more_redirect_url.replace("{phrase}",$this.n.text.val());if(url=$("<textarea />").html(url).text(),typeof AAPL_loadPage!="undefined"){var plus="";$this.o.overridewpdefault&&(plus="asid="+$this.o.id+"&"+$("form",$this.n.searchsettings).serialize(),plus="&asp_data="+Base64.encode(plus));$("a",$this.n.showmore).attr("href",$this.o.homeurl+url+plus)}else $("a",$this.n.showmore).attr("href","#"),$("a",$this.n.showmore).click(function(e){e.preventDefault();$this.o.overridewpdefault?asp_submit_to_url($this.o.homeurl+url+"&asp_active=1","post",{p_asid:$this.o.id,p_asp_data:$("form",$this.n.searchsettings).serialize()}):location.href=$this.o.homeurl+url})}},"text")}},aaplResults:function(){var $this=this,plus="";$this.post!=null&&$this.post.abort();$this.n.proloading.css("display","none");$this.o.blocking==!1&&$this.hideSettings();$this.hideResults();var url=$this.o.redirect_url.replace("{phrase}",$this.n.text.val());$this.o.overridewpdefault&&(plus="asid="+$this.o.id+"&"+$("form",$this.n.searchsettings).serialize());plus!=""?AAPL_loadPage($this.o.homeurl+url+"&asp_data="+Base64.encode(plus)):AAPL_loadPage($this.o.homeurl+url);return},showResults:function(){var $this=this;switch($this.o.resultstype){case"horizontal":$this.showHorizontalResults();break;case"vertical":$this.showVerticalResults();break;case"polaroid":$this.showPolaroidResults();$this.disableMobileScroll=!0;break;case"isotopic":$this.showIsotopicResults();break;default:$this.showHorizontalResults()}$this.n.proloading.css({display:"none"});$this.n.proclose.css({display:"block"});$this.n.showmore!=null&&($this.n.items.length>0?$this.n.showmore.css({display:"block"}):$this.n.showmore.css({display:"none"}));is_touch_device()&&document.activeElement.blur();$this.resultsOpened=!0},hideResults:function(){var $this=this;$this.n.resultsDiv.removeClass($this.resAnim.showClass).addClass($this.resAnim.hideClass);setTimeout(function(){$this.n.resultsDiv.css($this.resAnim.hideCSS)},$this.resAnim.duration);$this.n.proclose.css({display:"none"});$this.n.showmore!=null&&$this.n.showmore.css({display:"none"});is_touch_device()&&document.activeElement.blur();$this.resultsOpened=!1;$this.disableMobileScroll=!1;typeof $this.ptstack!="undefined"&&delete $this.ptstack},scrollToResults:function(){if($this=this,this.o.scrollToResults==1&&!this.$elem.parent().hasClass("asp_preview_data")&&this.o.compact.enabled!=1){if($this.o.resultsposition=="hover")var stop=$this.n.probox.offset().top-20;else var stop=$this.n.resultsDiv.offset().top-20;$("#wpadminbar").length>0&&(stop-=$("#wpadminbar").height());stop=stop<0?0:stop;$("body, html").animate({scrollTop:stop},{duration:500})}},showVerticalResults:function(){var $this=this;if($this.showResultsBox(),$this.n.items.length>0){var count=$this.n.items.length<$this.o.itemscount?$this.n.items.length:$this.o.itemscount,groups=$(".asp_group_header",$this.n.resultsDiv),spacers=$(".asp_spacer",$this.n.resultsDiv);if($this.n.items.length<=$this.o.itemscount)$this.n.results.css({height:"auto"});else{$this.n.results.css({height:30});$this.scroll.mCustomScrollbar("update");$this.resize();var i=0,h=0;$this.n.items.each(function(){h+=$(this).outerHeight(!0);i++});i=i<1?1:i;h=h/i*count;groups.length>0&&groups.each(function(occurence){var group_position=$(this).index()-occurence-Math.floor($(this).index()/3);group_position<count&&(h+=$(this).outerHeight(!0))});$this.n.results.css({height:h})}if(window.sscroll=$this.scroll,$this.scroll.mCustomScrollbar("disable",!0),$this.scroll.mCustomScrollbar("update"),$this.resize(),$this.scroll.mCustomScrollbar("scrollTo","first"),$this.o.highlight==1){var wholew=$this.o.highlightwholewords==1?!0:!1;$("div.item",$this.n.resultsDiv).highlight($this.n.text.val().split(" "),{element:"span",className:"highlighted",wordsOnly:wholew})}}if($this.resize(),$this.n.items.length==0){var h=$(".nores",$this.n.results).outerHeight(!0)>$this.o.resultitemheight?$this.o.resultitemheight:$(".nores",$this.n.results).outerHeight(!0);$this.n.results.css({height:11110});$this.scroll.mCustomScrollbar("update");$this.n.results.css({height:"auto"})}$this.addAnimation();$this.scrolling(!0);$this.searching=!1},showHorizontalResults:function(){var $this=this;$this.n.resultsDiv.css("display","block");$this.scrolling(!0);$this.n.items.css("opacity",$this.animationOpacity);$(".asp_nores",$this.n.results).size()>0?$(".mCSB_container",$this.n.resultsDiv).css({width:"auto",left:0}):$(".mCSB_container",$this.n.resultsDiv).css({width:$this.n.resdrg.children().size()*$($this.n.resdrg.children()[0]).outerWidth(!0),left:0});$this.o.resultsposition=="hover"&&$this.n.resultsDiv.css("width",$this.n.container.outerWidth(!0));$this.scroll.data({scrollButtons_scrollAmount:parseInt($this.n.items.outerWidth(!0)),mouseWheelPixels:parseInt($this.n.items.outerWidth(!0))}).mCustomScrollbar("update");$this.showResultsBox();$this.addAnimation()},showIsotopicResults:function(){var $this=this,itemsPerPage=$this.o.iitemsPerPage;if($this.preProcessIsotopicResults(),$this.showResultsBox(),$this.n.items.length>0&&($this.n.results.css({height:"auto"}),$this.o.highlight==1)){var wholew=$this.o.highlightwholewords==1?!0:!1;$("div.item",$this.n.resultsDiv).highlight($this.n.text.val().split(" "),{element:"span",className:"highlighted",wordsOnly:wholew})}if($this.calculateIsotopeRows(),$this.showPagination(),$this.n.items.length==0){var h=$(".nores",$this.n.results).outerHeight(!0)>$this.o.resultitemheight?$this.o.resultitemheight:$(".nores",$this.n.results).outerHeight(!0);$this.n.results.css({height:11110});$this.n.results.css({height:"auto"});$this.n.resdrg.css({height:"auto"})}else if(typeof rpp_isotope!="undefined")$this.isotopic=new rpp_isotope("#ajaxsearchprores"+$this.o.rid+" .resdrg",{itemSelector:"div.item",layoutMode:"masonry",filter:$this.filterFns.number});else return alert("Warning: Seems like you are using isotopic layout,\n"+"but the Isotope JS script is not enabled!\n\n"+"Go to Ajax Search Pro -> Compatibility settings submenu to enable it!"),console.log("Warning: Seems like you are using isotopic layout,\n"+"but the Isotope JS script is not enabled!\n\n"+"Go to Ajax Search Pro -> Compatibility settings submenu to enable it!"),!1;$this.addAnimation();$this.searching=!1},preProcessIsotopicResults:function(){var $this=this,j=0,overlay="";$this.o.iishowOverlay&&(overlay=$this.n.aspItemOverlay[0].outerHTML);$.grep($this.n.items,function(el){var image="",overlayImage="",hasImage=$(".asp_item_img",el).length>0?!0:!1,$img=$(".asp_item_img",el);if(hasImage){var src=$img.attr("imgsrc");if($this.o.iiblurOverlay&&!is_touch_device())var filter="aspblur";else var filter="no_aspblur";overlayImage="<div filter='url(#"+filter+")' style='background-image:url("+src+");filter: url(#"+filter+");-webkit-filter: url(#"+filter+");-moz-filter: url(#"+filter+");-o-filter: url(#"+filter+");-ms-filter: url(#"+filter+");' class='asp_item_overlay_img'><\/div>"}else switch($this.o.iifNoImage){case"removeres":return!1;case"defaultimage":if($this.o.defaultImage!=""){if(image="<div class='asp_item_img' style='background-image:url("+$this.o.defaultImage+");'>",$this.o.iiblurOverlay&&!is_touch_device())var filter="aspblur";else var filter="no_aspblur";overlayImage="<div filter='url(#"+filter+")' style='background-image:url("+$this.o.defaultImage+");filter: url(#"+filter+");-webkit-filter: url(#"+filter+");-moz-filter: url(#"+filter+");-o-filter: url(#"+filter+");-ms-filter: url(#"+filter+");' class='asp_item_overlay_img'><\/div>"}}$(overlayImage+overlay+image).prependTo(el);$(el).attr("data-itemnum",j);j++})},showPagination:function(){var $this=this;if($("nav.asp_navigation ul li",$this.n.resultsDiv).remove(),$("nav.asp_navigation",$this.n.resultsDiv).css("display","none"),$("nav.asp_navigation ul",$this.n.resultsDiv).removeAttr("style"),$this.n.items.length>0){var pages=Math.ceil($this.n.items.length/$this.il.itemsPerPage);if(pages>1){for(var i=1;i<=pages;i++)i==1?$("nav.asp_navigation ul",$this.n.resultsDiv).append("<li class='asp_active'><span>"+i+"<\/span><\/li>"):$("nav.asp_navigation ul",$this.n.resultsDiv).append("<li><span>"+i+"<\/span><\/li>");$("nav.asp_navigation",$this.n.resultsDiv).css("display","block")}}},calculateIsotopeRows:function(){var $this=this,containerWidth=parseFloat($this.n.results.innerWidth()),realColumnCount=containerWidth/$this.o.iitemsWidth,floorColumnCount=Math.floor(realColumnCount);floorColumnCount<=0&&(floorColumnCount=1);Math.abs(containerWidth/floorColumnCount-$this.o.iitemsWidth)>Math.abs(containerWidth/(floorColumnCount+1)-$this.o.iitemsWidth)&&floorColumnCount++;var newItemW=containerWidth/floorColumnCount,newItemH=newItemW/$this.o.iitemsWidth*$this.o.iitemsHeight;$this.il.columns=floorColumnCount;$this.il.itemsPerPage=floorColumnCount*$this.o.iiRows;$this.n.resultsDiv.data({colums:$this.il.columns,itemsperpage:$this.il.itemsPerPage});$this.currentPage=1;$this.n.items.css({width:Math.floor(newItemW),height:Math.floor(newItemH)})},showPolaroidResults:function(){var $this=this;$(".photostack>nav",$this.n.resultsDiv).remove();var figures=$("figure",$this.n.resultsDiv);if($this.n.resultsDiv.css({display:"block",height:"auto"}),$this.showResultsBox(),figures.length>0){if($this.n.results.css({height:$this.o.prescontainerheight}),$this.o.highlight==1)var wholew=$this.o.highlightwholewords==1?!0:!1;if(typeof Photostack!="undefined")$this.ptstack=new Photostack($this.n.results.get(0),{callback:function(){}});else return alert("Warning: Seems like you are using polaroid layout,\n"+"but the Ploaroid gallery JS script is not enabled!\n\n"+"Go to Ajax Search Pro -> Compatibility settings submenu to enable it!"),console.log("Warning: Seems like you are using polaroid layout,\n"+"but the Ploaroid gallery JS script is not enabled!\n\n"+"Go to Ajax Search Pro -> Compatibility settings submenu to enable it!"),!1}if(figures.length==0){var h=$(".nores",$this.n.results).outerHeight(!0)>$this.o.resultitemheight?$this.o.resultitemheight:$(".nores",$this.n.results).outerHeight(!0);$this.n.results.css({height:11110});$this.n.results.css({height:"auto"})}$this.addAnimation();$this.scrolling(!0);$this.searching=!1;$this.initPolaroidEvents(figures)},initPolaroidEvents:function(figures){var $this=this,i=1;figures.each(function(){i>1&&$(this).removeClass("photostack-current");$(this).attr("idx",i);i++});figures.click(function(e){if(!$(this).hasClass("photostack-current")){e.preventDefault();var idx=$(this).attr("idx");$(".photostack>nav span:nth-child("+idx+")",$this.n.resultsDiv).click()}});figures.bind("mousewheel",function(event,delta){event.preventDefault();delta>=1?$(".photostack>nav span.current",$this.n.resultsDiv).next().length>0?$(".photostack>nav span.current",$this.n.resultsDiv).next().click():$(".photostack>nav span:nth-child(1)",$this.n.resultsDiv).click():$(".photostack>nav span.current",$this.n.resultsDiv).prev().length>0?$(".photostack>nav span.current",$this.n.resultsDiv).prev().click():$(".photostack>nav span:nth-last-child(1)",$this.n.resultsDiv).click()});figures.bind("swipeone",function(e,originalEvent){e.preventDefault();e.stopPropagation();originalEvent.originalEvent.preventDefault();originalEvent.originalEvent.stopPropagation();originalEvent.delta!=null&&originalEvent.delta[0]!=null&&originalEvent.delta[0].lastX!=null&&(originalEvent.delta[0].lastX>=0?$(".photostack>nav span.current",$this.n.resultsDiv).next().length>0?$(".photostack>nav span.current",$this.n.resultsDiv).next().click():$(".photostack>nav span:nth-child(1)",$this.n.resultsDiv).click():$(".photostack>nav span.current",$this.n.resultsDiv).prev().length>0?$(".photostack>nav span.current",$this.n.resultsDiv).prev().click():$(".photostack>nav span:nth-last-child(1)",$this.n.resultsDiv).click())});$this.disableMobileScroll=!0},addAnimation:function(){var $this=this,i=0,j=1;$this.n.items.each(function(){var x=this;if($this.o.resultstype=="isotopic"&&j>$this.il.itemsPerPage){$(x).removeClass("opacityZero");return}setTimeout(function(){$(x).addClass("asp_an_"+$this.animOptions.items);$(x).removeClass("opacityZero")},i);i=i+80;j++})},removeAnimation:function(){var $this=this;$this.n.items.each(function(){var x=this;$(x).removeClass("asp_an_"+$this.animOptions.items)})},initSettingsAnimations:function(){var $this=this;$this.settAnim={showClass:"",showCSS:{visibility:"visible",display:"block",opacity:1,"animation-duration":$this.animOptions.settings.dur},hideClass:"",hideCSS:{visibility:"hidden",opacity:0,display:"none"},duration:$this.animOptions.settings.dur};$this.animOptions.settings.anim=="fade"&&($this.settAnim.showClass="asp_an_fadeIn",$this.settAnim.hideClass="asp_an_fadeOut");$this.animOptions.settings.anim!="fadedrop"||$this.o.blocking||$this.supportTransform==!1?$this.animOptions.settings.anim=="fadedrop"&&($this.settAnim.showClass="asp_an_fadeIn",$this.settAnim.hideClass="asp_an_fadeOut"):($this.settAnim.showClass="asp_an_fadeInDrop",$this.settAnim.hideClass="asp_an_fadeOutDrop");$this.n.searchsettings.css({"-webkit-animation-duration":$this.settAnim.duration+"ms","animation-duration":$this.settAnim.duration+"ms"})},initResultsAnimations:function(){var $this=this;$this.resAnim={showClass:"",showCSS:{visibility:"visible",display:"block",opacity:1,"animation-duration":$this.animOptions.results.dur},hideClass:"",hideCSS:{visibility:"hidden",opacity:0,display:"none"},duration:$this.animOptions.results.dur};$this.animOptions.results.anim=="fade"&&($this.resAnim.showClass="asp_an_fadeIn",$this.resAnim.hideClass="asp_an_fadeOut");$this.animOptions.results.anim!="fadedrop"||$this.o.blocking||$this.supportTransform==!1?$this.animOptions.settings.anim=="fadedrop"&&($this.resAnim.showClass="asp_an_fadeIn",$this.resAnim.hideClass="asp_an_fadeOut"):($this.resAnim.showClass="asp_an_fadeInDrop",$this.resAnim.hideClass="asp_an_fadeOutDrop");$this.n.resultsDiv.css({"-webkit-animation-duration":$this.settAnim.duration+"ms","animation-duration":$this.settAnim.duration+"ms"})},showSettings:function(){var $this=this;$this.scrolling(!0);$this.n.searchsettings.css($this.settAnim.showCSS);$this.n.searchsettings.removeClass($this.settAnim.hideClass).addClass($this.settAnim.showClass);$this.settScroll==null&&($this.settScroll=$(".asp_sett_scroll",$this.n.searchsettings).mCustomScrollbar({contentTouchScroll:!0}));$this.n.prosettings.data("opened",1)},showResultsBox:function(){var $this=this;$this.n.resultsDiv.css({display:"block",height:"auto"});$this.n.items.addClass($this.animationOpacity);$this.scrolling(!0);$this.n.resultsDiv.css($this.resAnim.showCSS);$this.n.resultsDiv.removeClass($this.resAnim.hideClass).addClass($this.resAnim.showClass)},hideSettings:function(){var $this=this;$this.n.searchsettings.removeClass($this.settAnim.showClass).addClass($this.settAnim.hideClass);setTimeout(function(){$this.n.searchsettings.css($this.settAnim.hideCSS)},$this.settAnim.duration);$this.n.prosettings.data("opened",0)},cleanUp:function(){var $this=this;$(".searchsettings",$this.n.container).length>0&&($("body>#ajaxsearchprosettings"+$this.o.rid).remove(),$("body>#ajaxsearchprores"+$this.o.rid).remove())},resize:function(){var $this=this,bodyTop=0;$("body").css("position")!="static"&&(bodyTop=$("body").offset().top);detectOldIE()&&($this.n.proinput.css({width:$this.n.probox.width()-8-($this.n.proinput.outerWidth(!1)-$this.n.proinput.width())-$this.n.proloading.outerWidth(!0)-$this.n.prosettings.outerWidth(!0)-$this.n.promagnifier.outerWidth(!0)-10}),$this.n.text.css({width:$this.n.proinput.width()-2+$this.n.proloading.outerWidth(!0),zIndex:2}),$this.n.textAutocomplete.css({width:$this.n.proinput.width()-2+$this.n.proloading.outerWidth(!0),opacity:.25,zIndex:1}));$this.n.prosettings.data("opened")!=0&&($this.o.settingsimagepos=="left"?$this.n.searchsettings.css({display:"block",top:$this.n.prosettings.offset().top+$this.n.prosettings.height()-2-bodyTop,left:$this.n.prosettings.offset().left}):$this.n.searchsettings.css({display:"block",top:$this.n.prosettings.offset().top+$this.n.prosettings.height()-2-bodyTop,left:$this.n.prosettings.offset().left+$this.n.prosettings.width()-$this.n.searchsettings.width()}));$this.n.resultsDiv.css("visibility")!="hidden"&&($this.o.resultsposition!="block"&&$this.n.resultsDiv.css({width:$this.n.container.width()-($this.n.resultsDiv.outerWidth(!0)-$this.n.resultsDiv.width()),top:$this.n.container.offset().top+$this.n.container.outerHeight(!0)+10-bodyTop,left:$this.n.container.offset().left}),$this.o.resultstype!="isotopic"&&$(".asp_content",$this.n.items).each(function(){var imageWidth=$(this).prev().css("display")=="none"?0:$(this).prev().outerWidth(!0);$(this).css({width:$(this.parentNode).width()-$(this).prev().outerWidth(!0)-$(this).outerWidth(!1)+$(this).width()-3})}));$this.n.container.css("position")=="fixed"&&($this.n.trythis.css({top:$this.n.container.position().top+$this.n.container.outerHeight(!0)}),is_touch_device()&&$this.n.container.css({top:$this.n.container.position().top}));$this.n.trythis.css({left:$this.n.container.position().left})},scrolling:function(ignoreVisibility){var $this=this,bodyTop=0;if($("body").css("position")!="static"&&(bodyTop=$("body").offset().top),(ignoreVisibility==!0||$this.n.searchsettings.css("visibility")=="visible")&&$this.o.blocking==!1&&($this.o.settingsimagepos=="left"?$this.n.searchsettings.css({display:"block",top:$this.n.prosettings.offset().top+$this.n.prosettings.height()-2-bodyTop,left:$this.n.prosettings.offset().left}):$this.n.searchsettings.css({display:"block",top:$this.n.prosettings.offset().top+$this.n.prosettings.height()-2-bodyTop,left:$this.n.prosettings.offset().left+$this.n.prosettings.width()-$this.n.searchsettings.width()})),ignoreVisibility==!0||$this.n.resultsDiv.css("visibility")=="visible"){var cwidth=$this.n.container.outerWidth(!0);if(cwidth=$this.o.resultsposition!="hover"&&$this.n.resultsAppend.length>0?"auto":cwidth-2*parseInt($this.n.resultsDiv.css("paddingLeft")),$this.n.resultsDiv.css({width:cwidth,top:$this.n.container.offset().top+$this.n.container.outerHeight(!0)+10-bodyTop,left:$this.n.container.offset().left}),$this.o.resultstype!="vertical")return;$(".asp_content",$this.n.items).each(function(){$(this).css({width:$(this.parentNode).width()-$(this).prev().outerWidth(!0)-$(this).outerWidth(!1)+$(this).width()-3})})}}};function asp_submit_to_url(action,method,input){"use strict";var form;form=$("<form />",{action:action,method:method,style:"display: none;"});typeof input!="undefined"&&input!==null&&$.each(input,function(name,value){$("<input />",{type:"hidden",name:name,value:value}).appendTo(form)});form.appendTo("body").submit()}function is_touch_device(){return!("ontouchstart"in window)?0:1}function detectOldIE(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE ");return msie>0?!0:!1}function getSupportedTransform(){for(var prefixes="transform WebkitTransform MozTransform OTransform msTransform".split(" "),div=document.createElement("div"),i=0;i<prefixes.length;i++)if(div&&div.style[prefixes[i]]!==undefined)return prefixes[i];return!1}typeof Object.create!="function"&&(Object.create=function(o){function F(){}return F.prototype=o,new F});$.plugin=function(name,object){$.fn[name]=function(options){return this.each(function(){$.data(this,name)||$.data(this,name,Object.create(object).init(options,this))})}};$.plugin("ajaxsearchpro",methods);$.fn.mobileFix=function(options){var $parent=$(this),$fixedElements=$(options.fixedElements);$(document).on("focus",options.inputElements,function(){$parent.addClass(options.addClass)}).on("blur",options.inputElements,function(){$parent.removeClass(options.addClass);setTimeout(function(){$(document).scrollTop($(document).scrollTop())},1)});return this};var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(input){var output="",chr1,chr2,chr3,enc1,enc2,enc3,enc4,i=0;for(input=Base64._utf8_encode(input);i<input.length;)chr1=input.charCodeAt(i++),chr2=input.charCodeAt(i++),chr3=input.charCodeAt(i++),enc1=chr1>>2,enc2=(chr1&3)<<4|chr2>>4,enc3=(chr2&15)<<2|chr3>>6,enc4=chr3&63,isNaN(chr2)?enc3=enc4=64:isNaN(chr3)&&(enc4=64),output=output+this._keyStr.charAt(enc1)+this._keyStr.charAt(enc2)+this._keyStr.charAt(enc3)+this._keyStr.charAt(enc4);return output},decode:function(input){var output="",chr1,chr2,chr3,enc1,enc2,enc3,enc4,i=0;for(input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");i<input.length;)enc1=this._keyStr.indexOf(input.charAt(i++)),enc2=this._keyStr.indexOf(input.charAt(i++)),enc3=this._keyStr.indexOf(input.charAt(i++)),enc4=this._keyStr.indexOf(input.charAt(i++)),chr1=enc1<<2|enc2>>4,chr2=(enc2&15)<<4|enc3>>2,chr3=(enc3&3)<<6|enc4,output=output+String.fromCharCode(chr1),enc3!=64&&(output=output+String.fromCharCode(chr2)),enc4!=64&&(output=output+String.fromCharCode(chr3));return Base64._utf8_decode(output)},_utf8_encode:function(string){string=string.replace(/\r\n/g,"\n");for(var utftext="",n=0;n<string.length;n++){var c=string.charCodeAt(n);c<128?utftext+=String.fromCharCode(c):c>127&&c<2048?(utftext+=String.fromCharCode(c>>6|192),utftext+=String.fromCharCode(c&63|128)):(utftext+=String.fromCharCode(c>>12|224),utftext+=String.fromCharCode(c>>6&63|128),utftext+=String.fromCharCode(c&63|128))}return utftext},_utf8_decode:function(utftext){for(var string="",i=0,c=c1=c2=0;i<utftext.length;)c=utftext.charCodeAt(i),c<128?(string+=String.fromCharCode(c),i++):c>191&&c<224?(c2=utftext.charCodeAt(i+1),string+=String.fromCharCode((c&31)<<6|c2&63),i+=2):(c2=utftext.charCodeAt(i+1),c3=utftext.charCodeAt(i+2),string+=String.fromCharCode((c&15)<<12|(c2&63)<<6|c3&63),i+=3);return string}}})(jQuery);jQuery(function($){$("body").on("click touchend","p.asp-try a",function(e){e.preventDefault();e.stopImmediatePropagation();for(var id=$(this).parent().attr("id").match(/^asp-try-(.*)/)[1],$searchParent=$("#ajaxsearchpro"+id),i=1;$searchParent.hasClass("asp_main_container")==!1;)if($searchParent=$searchParent.prev(),i++,i>15)return;if($searchParent.hasClass("asp_compact")){var state=$searchParent.attr("asp-compact")||"closed";state=="closed"&&$(".promagnifier .innericon",$searchParent).click()}$("input",$searchParent).val("");$("input.orig",$searchParent).val($(this).html()).keydown();$("form",$searchParent).trigger("submit","ajax")});$(".ajaxsearchprotop").each(function(){var params=$(this).data("aspdata"),id=params.id;params.action==0?$("a",this).click(function(e){e.preventDefault()}):params.action==2?$("a",this).click(function(e){e.preventDefault();$("div[id*=ajaxsearchpro"+id+"_] .orig").first().val($(this).html());$("div[id*=ajaxsearchpro"+id+"_] .promagnifier").first().click();$("html,body").animate({scrollTop:$("div[id*=ajaxsearchpro"+id+"_]").first().offset().top-40},"slow")}):params.action==1})});window.ASP=window.ASP||{};window.ASP.getScope=function(){return typeof jQuery!="undefined"?jQuery:typeof window[ASP.js_scope]!="undefined"?window[ASP.js_scope]:eval(ASP.js_scope)};window.ASP.initialize=function(id){var scope=window.ASP.getScope(),selector=".asp_init_data";typeof id!="undefined"&&(selector="div[id*=asp_init_id_"+id+"]");scope(selector).each(function(){var rid=scope(this).attr("id").match(/^asp_init_id_(.*)/)[1],jsonData=scope(this).html().trim();if(typeof jsonData=="undefined")return!1;var args=JSON.parse(jsonData);return scope("#ajaxsearchpro"+rid).ajaxsearchpro(args)})};window.ASP.ready=function(){var scope=window.ASP.getScope();scope(document).ready(function(){window.ASP.initialize()})};window.ASP.ready();